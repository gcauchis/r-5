<div *ngIf="unit" #unitCard>
  <img *ngIf="unit.imgBase64" src="{{unit.imgBase64}}" alt="image" class="unit">
  <p style="margin:0px"><span class="unit-title">{{unit.name}}/{{enumUtils.tacticalRoleToString(unit.tacticalRole)}}</span></p>
  <p style="margin:0px"><span class="unit-title">Mouvement :</span> {{unit.tacticalMove}}’’/{{unitService.getRunMove(unit)}}’’ +1D4’’</p>
  <p style="margin:0px"><span class="unit-title">DQM :</span> {{enumUtils.diceToString(unit.dqm)}}</p>
  <div style="margin:0px" *ngIf="meleeWeapons"><span class="unit-title">Mélée :</span>
    <div style="margin:0px" *ngFor="let weapon of meleeWeapons">{{weapon.name}}
      {{weapon.power}}{{enumUtils.diceToString(unit.dc)}}<span *ngIf="weapon.superPower">++</span><span
        *ngIf="weapon.superSuperPower">[++</span> ({{weapon.rule}})</div>
  </div>
  <div style="margin:0px" *ngIf="shootWeapons"><span class="unit-title">Tir :</span>
    <div style="margin:0px" *ngFor="let weapon of shootWeapons">{{weapon.name}} {{weapon.range}}’’
      {{weapon.power}}{{enumUtils.diceToString(unit.dc)}}<span *ngIf="weapon.superPower">++</span><span
        *ngIf="weapon.superSuperPower">[++</span> ({{weapon.rule}})</div>
  </div>
  <div style="margin:0px" *ngIf="explosiveWeapons"><span class="unit-title">Explosif :</span>
    <div style="margin:0px" *ngFor="let weapon of explosiveWeapons">{{weapon.name}} <span
        *ngIf="weapon.range; else NArange">
        <span *ngIf="weapon.rangeMin">+{{weapon.rangeMin}}'' à </span>{{weapon.range}}''
      </span>
      <ng-template #NArange>NA</ng-template> {{weapon.power}}{{enumUtils.diceToString(unit.dc)}}<span
        *ngIf="weapon.superPower">++</span><span *ngIf="weapon.superSuperPower">[++</span> ({{weapon.rule}})
    </div>
  </div>
  <div style="margin:0px" *ngIf="grenadeWeapons"><span class="unit-title">Grenade :</span>
    <div style="margin:0px" *ngFor="let weapon of grenadeWeapons">{{weapon.name}} <span
        *ngIf="weapon.range; else NArange">
        <span *ngIf="weapon.rangeMin">+{{weapon.rangeMin}}'' à </span>{{weapon.range}}''
      </span>
      <ng-template #NArange>NA</ng-template> {{weapon.power}}{{enumUtils.diceToString(unit.dc)}}<span
        *ngIf="weapon.superPower">++</span><span *ngIf="weapon.superSuperPower">[++</span> ({{weapon.rule}})
    </div>
  </div>
  <p style="margin:0px"><span class="unit-title">Sauvegarde :</span><span *ngIf="unit.armor; else noProtection"> {{unit.armor.protection}}</span><ng-template #noProtection> Aucune sauvegarde</ng-template> <span class="unit-title"> / PV :</span> {{unit.pv}}</p>
  <p style="margin:0px"><span class="unit-title">Prix :</span> {{priceService.compute(unit)}}</p>
  <p style="margin:0px" *ngIf="unit.desc"><span class="unit-title">Description :</span> {{unit.desc}}</p>
</div>
<button mat-raised-button *ngIf="showPdfButton" (click)="openPDF()">PDF</button>
